<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>NZ Native Animal Cards</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </head>

  <body>

    <script type="text/x-template" id="card-template">
      <div class="wrapper" v-bind:class="{'shrunk': small}">
        <div v-on:click="selected.anyname=selected.anyname==animal?null:animal;"
            class="card" v-bind:class="{'shrunk': small, 'notshrunk': !small, 'theme1': themer, 'theme2': !themer}">
          <div class="namecontainer">
            {{animal.name}}
          </div>
          <div class="metercontainer"> 
            <div v-bind:class="'meter level' + animal.level">
            </div>
          </div>
          <div class="statuscontainer">
            Status Level {{animal.level}}: {{animal.status}}
          </div>
          <div>
            <img v-bind:src="animal.image" class="image">
          </div>
          <div class="infocontainer">
            <div class="threats">
              <h1 class="infoheading">Threats</h1>
              <ul> 
                <li v-for="threat in animal.threats">
                  {{threat.text}}
                </li>
              </ul>
            </div>
            <div class="facts">
              <h1 class="infoheading">Facts</h1>
              <ul> 
                <li v-for="fact in animal.facts">
                  {{fact.text}}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </script>

    <div id="app"> 
      <div id="banner">
        <button class="button" v-on:click="themer=!themer" >Change Theme</button> 
      </div>

      <div>
        New Zealand native animals kiwi kea
      </div>

      <card v-for="a in animals" v-bind:animal="a" v-bind:selected="selected" v-bind:small="true" v-bind:themer="themer">
      </card>
      <card v-if="selected.anyname" v-bind:animal="selected.anyname" v-bind:selected="selected" v-bind:small="false" v-bind:themer="themer">
      </card>
    </div>

    <!-- start vue app, after app div loaded -->
    <script src="script.js"></script>

  </body>
</html>

